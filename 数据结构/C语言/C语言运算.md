# 一、算术运算符

## 1、概念

C 语言通过提供大量的运算符来支持我们对数据进行处理，前边我们将一个值存放到变量中，使用的是赋值运算符，就是等于号（=），上节课对字符串中的某个字符进行索引，使用方括号（[]）作为下标运算符实现。

这一节我们谈的是 C 语言中最常用的运算符——算数运算符。

![image-20220330160224185](https://raw.githubusercontent.com/zsc-dot/pic/master/img/Git/image-20220330160224185.png)

这里有几点要注意：

- 因为键盘上没有乘号和除号两个按键，所以用星号（*）和斜杠（/）代替，这几乎是潜规则了。
- 对于整数间的除法是采取直接舍弃小数部分的方式，而不是什么四舍五入。
- 对于浮点数间的除法则能获得一个相对逼近结果的值（如果除不尽或位数特别多的话）。
- 百分号（%）在这里是表示求余数的意思，但求余运算符要求两边的操作数都要是整数，其结果也是整数。



## 2、 何谓“目”？

我们把被运算符作用的运算对象称之为操作数。

比如 1 + 2，那么 1 和 2 就是被加法运算符（+）作用的两个操作数。

我们说一个运算符是双目运算符还是单目运算符，就是看它有多少个操作数。



## 3、表达式

用运算符和括号将操作数连接起来的式子，我们称之为表达式。

- 1 + 1
- 'a' + 'b'
- a + b
- a + 'b' + pow(a, b) * 3 / 4 + 5



## 4、运算符的优先级和结合性

- 优先级相同的运算符，运算次序由结合性决定
  - 比如 3 * 4 / 5 % 6，其中乘号、除号和求余运算符在同一优先级，结合性是“左到右”，因此先计算 3 * 4，再计算 / 5，最后计算 % 6
  - 再如 -i++，符号和自增运算符在同一优先级，结合性是“右到左”，因此 -i++ 相当于 -(i++)
- 通过使用小括号可以提升表达式的优先级至最高
  - 比如 (1 + 2) * (3 - 4)，其中加号、减号运算符的优先级本身是要低于乘号运算符的，但由于使用了小括号，且结合性均是“左到右”，所以先计算 (1 + 2)，再计算 (3 - 4)，最后才将前两者的结果相乘

```c
#include <stdio.h>
#include <math.h>

int main()
{
    int i, j ,k;
    i = 1 + 2; // 3
    j = 1 + 2 * 3; // 7
    k = i + j + -1 + pow(2, 3); // 3 + 7 + (-1) + 8

    printf(" i =%d\n", i);
    printf(" j =%d\n", j);
    printf(" k =%d\n", k);

    return 0;
}
```



## 5、类型转换

当一个运算符的几个操作数类型不同时，编译器需要将它们转换为共同的某种数据类型，才能进行运算。

通常情况下，编译器会将占用坑位比较小的操作数，先转换为与坑位较大的操作数的相同类型，然后再进行运算。这样做的目的就是为了确保计算的精确度。

除了编译器帮你自动转换不同类型的操作数之外，C 语言还允许你强制转换操作数的数据类型。做法就是在操作数的前边用小括号将目标数据类型括起来。

**强制转换会丢失精度**

```c
#include <stdio.h>
#include <math.h>

int main()
{
    printf("整型输出：%d\n", 1 + 2.0); // 0，把一个浮点型数据强制用整型输出，就会出现错误的结果
    printf("整型输出：%d\n", 1 + (int)2.0); // 3，先把2.0强转为int
    printf("浮点型输出：%f\n", 1 + 2.0); // 3.000000
    return 0;
}
```



# 二、关系运算符和逻辑运算符

## 1、关系运算符

在 C 语言中，使用关系运算符来比较两个数的大小关系。

![image-20220330164532710](https://raw.githubusercontent.com/zsc-dot/pic/master/img/Git/image-20220330164532710.png)

关系运算符都是双目运算符，其结合性均为左到右。

关系运算符的优先级低于算术运算符，高于赋值运算符。



## 2、关系表达式

用关系运算符将两边的变量、数据或表达式连接起来，称之为关系表达式：

- 1 < 2
- a > b
- a <= 1 + b
- 'a' + 'b' <= 'c'
- (a = 3) > (b = 5)

关系表达式得到的值是一个逻辑值，即判断结果为“真”或“假”，如果结果为“真”，关系表达式的值为 1，如果为“假”，关系表达式的值则为 0。



## 3、逻辑运算符

C 语言总共提供了三种逻辑运算符：

![image-20220330165317825](https://raw.githubusercontent.com/zsc-dot/pic/master/img/Git/image-20220330165317825.png)



## 4、逻辑表达式

用逻辑运算符将两边的变量、数据或表达式连接起来，称之为逻辑表达式：

- 3 > 1 && 1 < 2
- 3 + 1 || 2 == 0
- !(a + b)
- !0 + 1 < 1 || !(3 + 4)
- 'a' - 'b' && 'c'

注：关系表达式和逻辑表达式得到的值都是一个逻辑值，也就是表示真的 1 和表示假的 0。

​		但是用于判断一个值是否为真时，以 0 表示假，以任何非 0 的数表示真。

​		一个是编译系统告诉我们的结果，一个是我们让编译系统去判断的，两者方向不同。



## 5、短路求值

短路求值又称最小化求值，是一种逻辑运算符的求值策略。只有当第一个运算数的值无法确定逻辑运算的结果时，才对第二个运算数进行求值。

C 语言对于逻辑与和逻辑或采用短路求值的方式。



# 三、if语句

## 1、if语句的形式

1. ```c
   …… // 其它语句
   if (表达式)
   {
       …… // 逻辑值为真所执行的语句、程序块
   }
   …… // 其它语句
   ```

   第一种是最简单的，if 后边小括号内填写返回逻辑值的表达式，当然你可以直接填入一个逻辑值，当你填入这个值为非 0 的时候，编译系统就会认为这个逻辑值是真；只有当你填入 0 的时候，才被认为是假的。

   ```c
   #include <stdio.h>
   #include <math.h>
   
   int main()
   {
       int i;
   
       printf("年纪：");
       scanf("%d", &i);
   
       if (i >= 18) {
           printf("进门左转");
       }
   
       return 0;
   }
   ```

   

2. ```c
   …… // 其它语句
   if (表达式)
   {
       …… // 表达式的逻辑值为真所执行的语句、程序块
   }
   else
   {
       …… // 表达式的逻辑值为假所执行的语句、程序块
   }
   …… // 其它语句
   ```

3. ```c
   …… // 其它语句
   if (表达式1) 
   {
       …… // 表达式 1 的逻辑值为真所执行的语句、程序块
   }
     .
     .
     .
   else if (表达式n)
   {
       …… // 表达式 n 的逻辑值为真所执行的语句、程序块
   }
   else
   {
       …… // 上面所有表达式的逻辑值均为假所执行的语句、程序块
   }
   …… // 其它语句
   ```



# 四、switch语句

